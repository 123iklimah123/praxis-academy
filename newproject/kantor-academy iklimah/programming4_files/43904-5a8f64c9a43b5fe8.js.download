"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43904],{71722:function(e,i,n){n.d(i,{Bg:function(){return p},Mq:function(){return y},Oy:function(){return m},Q1:function(){return b},kR:function(){return f},nd:function(){return d},wb:function(){return T}});var t,r,o,s=n(14924),c=n(26042),u=n(69396),a=n(23180),l=n(16054),d=(t={},(0,s.Z)(t,a._0,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,a.Ke,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,a.m4,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,a.Fq,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,a.v2,{quality:3,displayName:"large",name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,a.R7,{quality:3,name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,a.x0,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,a.Vw,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,a.JF,{quality:3,name:"large",downloadName:"large",label:"common:image_size_large"}),t),p=(r={},(0,s.Z)(r,a.Xk,a.v2),(0,s.Z)(r,a.Fm,a.m4),(0,s.Z)(r,a._I,a._0),(0,s.Z)(r,a.Nu,a._0),r),m={LEGACY_TO_SSTK:{ultrahd4k:"4k",web:"low",lowres:"low"},SSTK_TO_LEGACY:{low:"web","4k":"ultrahd4k"},SSTK_TO_LEGACY_ELIGIBILTY:(0,u.Z)((0,c.Z)({},{low:"lowres"}),{"4k":"ultrahd4k"})},v=function(e){var i,n=e.licenseType,t=e.isOnlySDVideoAvailable;return i={},(0,s.Z)(i,"footage_".concat(n,"_4k"),a.yF),(0,s.Z)(i,"footage_".concat(n,"_hd"),t?a.SD:a.HD),(0,s.Z)(i,"footage_".concat(n,"_sd"),a.SD),(0,s.Z)(i,"footage_".concat(n,"_lowres"),a.T0),i},f=l.oP.reduce((function(e,i){return(0,c.Z)({},e,v({licenseType:i}))}),{}),b=l.oP.reduce((function(e,i){return(0,c.Z)({},e,v({licenseType:i,isOnlySDVideoAvailable:!0}))}),{}),T=(o={},(0,s.Z)(o,a.yF,a.yF),(0,s.Z)(o,a.HD,a.HD),(0,s.Z)(o,a.SD,a.SD),(0,s.Z)(o,a.qY,a.qY),(0,s.Z)(o,a.qG,a.yF),(0,s.Z)(o,a.dn,a.HD),(0,s.Z)(o,a.rf,a.SD),(0,s.Z)(o,a.Zh,a.qY),(0,s.Z)(o,a.L0,a.HD),(0,s.Z)(o,a.Ae,a.SD),(0,s.Z)(o,a.vD,a.HD),(0,s.Z)(o,a.yE,a.qY),o),y=[a.yF,a.HD,a.SD,a.yE,a.qY,a.qG,a.dn,a.rf,a.Zh,a.L0,a.Ae,a.vD].reduce((function(e,i){return(0,u.Z)((0,c.Z)({},e),(0,s.Z)({},i,function(e){var i,n=e.resolutionAbbr;return i={},(0,s.Z)(i,l.az,"footage_premier_".concat(n)),(0,s.Z)(i,l.dH,"footage_platform_".concat(n)),(0,s.Z)(i,l.dW,"footage_media_".concat(n)),(0,s.Z)(i,l.Iu,"footage_sm_premier_".concat(n)),(0,s.Z)(i,l.CS,"footage_sm_media_".concat(n)),(0,s.Z)(i,l.s5,"footage_select_premier_".concat(n)),(0,s.Z)(i,l.Hv,"footage_select_media_".concat(n)),(0,s.Z)(i,l.TP,"footage_comp_".concat(n)),i}({resolutionAbbr:T[i]})))}),{})},43904:function(e,i,n){n.d(i,{$L:function(){return F},Aw:function(){return k},E3:function(){return x},I9:function(){return V},Im:function(){return I},Ip:function(){return Z},U:function(){return j},XI:function(){return w},ar:function(){return E},cr:function(){return D},eL:function(){return H},hD:function(){return O},ky:function(){return z},lc:function(){return R},nj:function(){return U},q1:function(){return q},qY:function(){return g},rZ:function(){return S},vq:function(){return _}});var t,r=n(26042),o=n(69396),s=n(99534),c=n(10253),u=n(29815),a=n(24235),l=n(23180),d=n(56658),p=n(20186),m=n(16054),v=n(80598),f=n(97224),b=n(45170),T=n(71722),y=n(86462),_=function(e){var i=e.licenseName;return m.b5.includes(i)},g=function(e){var i,n,t=e.subscription;return!(!(null===t||void 0===t?void 0:t.isUnlimited)&&!(null===t||void 0===t||null===(i=t.currentLicenses)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.isUnlimited))},Z=function(e){var i,n,t,r=e.subscription,o=null===r||void 0===r||null===(i=r.currentAllotments)||void 0===i?void 0:i.length;return null===r||void 0===r||null===(n=r.currentAllotments)||void 0===n||null===(t=n[o-1])||void 0===t?void 0:t.creditsRemaining},S=function(e){var i=e.subscription,n=Z({subscription:i});return null===n||n>0},C=function(e){var i=e.priceType,n=e.price,t=e.currency;return e.activityTracking===v.nm&&i===v.vh?{priceAsAbsolute:{price:n,priceType:v.Br,currency:t}}:{}},h=function(e){var i=e.subscription,n=e.assetTypeFromSubscription;return n===d.xF&&g({subscription:i})?"".concat(n).concat((0,f.ZV)(d.q9)):n},A=function(e){var i=e.currentLicense;return null!==(t=null===i||void 0===i?void 0:i.maxContentTier)&&void 0!==t?t:p.E2},w=function(e){var i,n,t=e.subscription,o=t.creditPrice,u=t.creditType,a=t.creditCurrency,l=t.currentLicenses,d=t.redeemableFor,p=t.product,m=t.type,f=null!==(n=null!==a&&void 0!==a?a:null===l||void 0===l||null===(i=l[0])||void 0===i?void 0:i.currency)&&void 0!==n?n:null===p||void 0===p?void 0:p.currency,b=(null===l||void 0===l?void 0:l.find((function(e){return e.redeemableFor===d})))||{},T=b.creditPriceComponents,y=(0,s.Z)(b,["creditPriceComponents"]),_=v.bW[m],g=v.iN[_];return T&&g?Object.entries(T.contentTier).reduce((function(e,i){var n,o=(0,c.Z)(i,2),s=o[0],u=o[1],a=u.amount,l=u.amountType,d=void 0===l?v.Zm:l,p=Number(s);return e.push((0,r.Z)({currency:f,subscriptionType:h({subscription:t,assetTypeFromSubscription:g[s]}),price:a,contentTier:p,priceType:d},C({priceType:null!==(n=t.creditType)&&void 0!==n?n:d,price:t.creditPrice,currency:f,activityTracking:t.activityTracking}))),e}),[]):[{subscriptionType:h({subscription:t,assetTypeFromSubscription:_}),currency:f,price:o,priceType:u||v.Zm,contentTier:A({currentLicense:y})}]},L=function(e){var i=e.assetContentTier,n=e.subscriptionMaxContentTier,t=e.musicInfo,r=n>=i;if(null===t||void 0===t?void 0:t.isMusic){var o=t.isUnlimited,s=t.isUnlimitedSubscriptionAvailable;if(i>p.$H)return r&&!o;if(s)return!!o}return r},N=function(e){var i=e.subscriptions,n=e.contentTier,t=e.musicInfo;return null===i||void 0===i?void 0:i.map((function(e){var i,s;return(null===e||void 0===e||null===(i=e.currentLicenses)||void 0===i?void 0:i.length)?n?function(e){var i=e.subscription,n=e.mediaContentTier,t=e.musicInfo,s=i.activityTracking,c=i.currentLicenses,u=i.creditPrice,a=i.creditType,l=function(e){var i=e.prices,n=e.mediaContentTier;return(null===i||void 0===i?void 0:i.find((function(e){return e.contentTier>=n})))||{}}({prices:w({subscription:i}),mediaContentTier:n}),d=l.price,p=l.priceType,m=l.currency,v=c.filter((function(e){var i=e.maxContentTier,s=e.isUnlimited;return L({assetContentTier:n,subscriptionMaxContentTier:i,musicInfo:(0,o.Z)((0,r.Z)({},t),{isUnlimited:s})})}));return(0,r.Z)((0,o.Z)((0,r.Z)({},i),{currentLicenses:v,creditPrice:d,creditType:p}),C({priceType:null!==a&&void 0!==a?a:p,price:u,currency:m,activityTracking:s}))}({subscription:e,mediaContentTier:n,musicInfo:t}):function(e){var i,n,t=e.subscription,o=null===(i=t.currentLicenses[0].creditPriceComponents)||void 0===i?void 0:i.contentTier,s=(0,c.Z)(o?Object.entries(o)[0]:[{},{}],2)[1].amountType;return(0,r.Z)({},t,C({priceType:null!==(n=t.creditType)&&void 0!==n?n:s,price:t.creditPrice,currency:t.creditCurrency,activityTracking:t.activityTracking}))}({subscription:e}):(0,r.Z)({creditType:null!==(s=null===e||void 0===e?void 0:e.creditType)&&void 0!==s?s:v.Zm},e)}))},I=function(e){var i=e.subscriptions,n=e.licenseName,t=n?null===i||void 0===i?void 0:i.filter((function(e){var i=e.redeemableFor;return(null===n||void 0===n?void 0:n.includes("_unlimited"))?i===n:i==="".concat(n,"_unlimited")})):i;return!!(null===t||void 0===t?void 0:t.some((function(e){var i=e.currentLicenses;return null===i||void 0===i?void 0:i.some((function(e){return!!e.isUnlimited}))})))},F=function(e){var i,n,t,s=e.assetType,c=e.subscriptions,u=e.licenseName,a=e.contentTier,l=null===(n=null===(i=null===c||void 0===c?void 0:c.filter((function(e){var i=e.license,n=e.redeemableFor,t=e.name;return i===u||n===u||t===u})))||void 0===i?void 0:i.sort((function(e,i){return new Date(e.subscriptionExpiration).getTime()-new Date(i.subscriptionExpiration).getTime()})))||void 0===n?void 0:n.map((function(e){return(0,y.TR)({subscription:e,assetType:s})})),p=s===d.xF,m={isMusic:p,isUnlimitedSubscriptionAvailable:p&&I({subscriptions:c,licenseName:u})},f=a?function(e){var i=e.subscriptions,n=e.contentTier,t=e.musicInfo;return(null===i||void 0===i?void 0:i.filter((function(e){var i=e.currentLicenses;return null===i||void 0===i?void 0:i.find((function(e){var i=e.maxContentTier,s=e.isUnlimited;return L({assetContentTier:n,subscriptionMaxContentTier:i,musicInfo:(0,o.Z)((0,r.Z)({},t),{isUnlimited:s})})}))})))||[]}({subscriptions:l,contentTier:a,musicInfo:m}):l,b=N({subscriptions:f,contentTier:a,musicInfo:m});return(null===f||void 0===f?void 0:f[0])&&(t=(0,o.Z)((0,r.Z)({},null===f||void 0===f?void 0:f[0]),{creditType:v.Zm})),(null===b||void 0===b?void 0:b.find((function(e){return S({subscription:e})})))||t},D=function(e){var i=e.subscriptions,n=void 0===i?[]:i,t=e.contentTier,r=e.assetType,o=n.reduce((function(e,i){var o=i.redeemableFor||i.name,s=F({subscriptions:n,licenseName:o,contentTier:t,assetType:r});return s?function(e){var i=e.subscriptionToUse,n=e.licenseName,t=null===i||void 0===i?void 0:i.currentLicenses;return!!t&&t.length&&!(null===t||void 0===t?void 0:t.find((function(e){return e.redeemableFor===n.replace("/_unlimited/","")})))}({subscriptionToUse:s,licenseName:o})||function(e){var i=e.item;return e.uniqueSubsAcc.find((function(e){var n=e.redeemableFor,t=e.name;return i.redeemableFor===n||i.name&&i.name===t}))}({item:i,uniqueSubsAcc:e})?e:(0,u.Z)(e).concat([s]):e}),[]);return function(e){return e.sort((function(e,i){return i.creditPrice-e.creditPrice}))}(o)},q=function(e){var i=e.assets,n=void 0===i?[]:i;return(0,b.N3)(null===n||void 0===n?void 0:n[0])?d.nX:(0,b.so)(null===n||void 0===n?void 0:n[0])?d.A7:(0,b.vV)(null===n||void 0===n?void 0:n[0])?d.ox:(0,b.Tp)(null===n||void 0===n?void 0:n[0])},k=function(e){var i=e.assetType,n=e.contentTier,t=e.subscriptions;if(!t||!i)return[];switch(i){case d.nX:return{compSubscriptions:t.editorialImageCompSubscriptions,subscriptions:D({assetType:i,subscriptions:t.editorialImageSubscriptions,contentTier:n})};case d.A7:return{compSubscriptions:t.editorialVideoCompSubscriptions,subscriptions:D({assetType:i,subscriptions:t.editorialVideoSubscriptions,contentTier:n})};case d.pX:return{compSubscriptions:t.videoCompSubscriptions,subscriptions:D({assetType:i,subscriptions:t.videoSubscriptions,contentTier:n})};case d.xF:case d.j0:return{compSubscriptions:t.musicCompSubscriptions,subscriptions:D({assetType:i,subscriptions:t.musicSubscriptions,contentTier:n})};case d.k4:default:return{compSubscriptions:t.imageCompSubscriptions,subscriptions:D({assetType:i,subscriptions:t.imageSubscriptions,contentTier:n})}}},x=function(e){var i=e.assetType,n=e.subscriptions,t=k({assetType:i,subscriptions:n});return(null===t||void 0===t?void 0:t.subscriptions)||[]},O=function(e){var i,n=e.asset,t=e.subscriptions,r=q({assets:[n]}),o=null===(i=k({assetType:r,subscriptions:t}))||void 0===i?void 0:i.compSubscriptions;return t&&(null===o||void 0===o?void 0:o.some((function(e){return S({subscription:e})})))},P=function(e){var i=e.acc,n=e.totalCostOfItems,t=e.amountRemaining,r=e.totalAmount,o=e.bypassLowBalance;return void 0!==o&&o||(n>t&&(i.hasInsufficientSubscriptionCredits=!0,i.hasLowDebitableBalance=!1,i.insufficientAmount=n-t),!i.hasInsufficientSubscriptionCredits&&t<=.05*r&&(i.hasLowDebitableBalance=!0)),i},U=function(e){var i=e.items,n=e.subscriptions,t=e.subscription,r=e.hasWrapperSubscription,o=void 0===r||r;if(i&&i.length){var s={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:v.Zm};return i.reduce((function(e,i){var r,s=i.licenseId,c=i.price,u=q({assets:[i]}),a=t||F({subscriptions:null===(r=k({assetType:u,subscriptions:n}))||void 0===r?void 0:r.subscriptions,selectedLicenseId:s,assetType:u})||{},l=(0,y.Vp)(a),d=l.totalAmount,p=l.amountRemaining,m=l.amountType,f=l.amount;e.amountType=m;var b=parseFloat(c),T=parseFloat(e.total)+b;if(e.total+=b,m===v.vh){var _=parseFloat(f),g=parseFloat(e.totalCreditAmount)+_;return e.totalCreditAmount+=_,P({acc:e,totalCostOfItems:g,amountRemaining:p,totalAmount:d,bypassLowBalance:!o})}return P({acc:e,totalCostOfItems:T,amountRemaining:p,totalAmount:d,bypassLowBalance:!o})}),s)}var c=n||{},u=Object.keys(c).find((function(e){return Array.isArray(c[e])&&c[e].length})),a=(0,y.bC)({subscriptions:c[u]||[]})[0]||{},l=(0,y.Vp)(a),d=l.totalAmount,p=l.amountRemaining;return{amountType:l.amountType,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:p<=.05*d,insufficientAmount:null}},z=function(e){var i,n=e.items,t=e.isLoading,r=e.subscription,o=e.subscriptions,s=e.userCapabilities;return t?{}:(r&&(i=r.creditType),o&&o.length>0&&(i=o[0].creditType),(0,y.Kc)({userCapabilities:s})?U({items:n,subscription:r,subscriptions:o,hasWrapperSubscription:(0,y.zF)({userCapabilities:s})}):{amountType:i||v.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:!(!r||0!==Z({subscription:r})),insufficientAmount:null})},E=function(e){var i,n,t=e.subscriptions,r=e.asset,o=Object.values((null===r||void 0===r||null===(i=r.metadata)||void 0===i||null===(n=i.cart)||void 0===n?void 0:n.sizes)||r.sizes||{}),s=(0,b.$Q)({sizes:o});return null===t||void 0===t?void 0:t.filter((function(e){var i=e.redeemableFor,n=s?T.Q1[i]:T.kR[i];return null===o||void 0===o?void 0:o.some((function(e){var i=e.resolution,t=e.name;return T.wb[i]===n||T.wb[t]===n||n===l.T0&&T.wb[i]===l.qY}))}))},Y=function(e){var i,n=e.licenses,t=e.subscriptions;return n.some((function(e){return i=F({subscriptions:t,licenseName:e,assetType:d.pX})})),i},B=function(e){var i=e.existingAssetLicenses,n=e.licenseType,t=e.licenseName,r=e.subscriptions;return t==="footage_".concat(n,"_sd")?Y({licenses:(null===i||void 0===i?void 0:i.includes("footage_".concat(n,"_hd")))?["footage_".concat(n,"_hd")]:["footage_".concat(n,"_sd"),"footage_".concat(n,"_hd")],subscriptions:r}):t==="footage_".concat(n,"_lowres")?(null===i||void 0===i?void 0:i.includes("footage_".concat(n,"_hd")))?Y({licenses:["footage_".concat(n,"_hd")],subscriptions:r}):(null===i||void 0===i?void 0:i.includes("footage_".concat(n,"_sd")))?Y({licenses:["footage_".concat(n,"_sd")],subscriptions:r}):Y({licenses:["footage_".concat(n,"_lowres")],subscriptions:r}):void 0},H=function(e){var i=e.existingAssetLicenses,n=e.subscriptions,t=e.licenseName,r=d.pX;if([m.Mb,m.G,m.mf,m.vb,m.Dh,m.SP,m.a9,m.y2,m.v1,m.KK,m.mJ,m.Wd].some((function(e){return e===t})))return F({subscriptions:n,licenseName:t,assetType:r});if(m.Lj.some((function(e){return e===t})))return F({subscriptions:n,licenseName:t,assetType:r});if([m.f1,m.Oy,m.JC,m.TL].some((function(e){return e===t})))return F({subscriptions:n,licenseName:m.f1,assetType:r});var o=B({existingAssetLicenses:i,licenseType:m.bi,licenseName:t,subscriptions:n}),s=B({existingAssetLicenses:i,licenseType:m.Ee,licenseName:t,subscriptions:n}),c=B({existingAssetLicenses:i,licenseType:m.pH,licenseName:t,subscriptions:n}),u=B({existingAssetLicenses:i,licenseType:m.wO,licenseName:t,subscriptions:n});return o||s||c||u||void 0},R=function(e){var i=e.subscriptions,n=e.assetType;return null===i||void 0===i?void 0:i.some((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.product,t=void 0===i?{}:i,r=t.status,o=t.businessUnit,s=t.name;return r===v.PP&&(n===d.tn?a.LY.includes(s):o===n||"none"===o)}))},V=function(e){var i=e.assetType,n=e.contentTier,t=e.subscriptions,r=e.selectedLicenseId;switch(i){case d.pX:return H({licenseName:r,subscriptions:t});case d.j0:case d.xF:case d.tn:case d.k4:default:return F({subscriptions:t,licenseName:r,contentTier:n,assetType:i})}},j=function(e){var i=e.uniqueSubscription;if(!i)return{};var n=i.priceAsAbsolute,t=i.creditCurrency,r=i.product,o=g({subscription:i}),s=null!==t&&void 0!==t?t:null===r||void 0===r?void 0:r.currency;if(!n){var c=i.creditPrice,u=i.creditType,a=void 0===u?v.Zm:u;return{price:"".concat((0,b.lO)({price:c,isUnlimited:o})),priceType:a,currency:s}}var l=n.price,d=n.priceType;return{price:"".concat((0,b.lO)({price:l,isUnlimited:o})),priceType:d,currency:s}}}}]);
//# sourceMappingURL=43904-5a8f64c9a43b5fe8.js.map